/* ************************************************************************** */
/* ********************** FILE DEFINITION SECTION *************************** */
/* ************************************************************************** */
/* File Name   : main.c														  */
/* Author      : MAAM														  */
/* Version     : v01.2														  */
/* date        : May 11, 2023												  */
/* ************************************************************************** */
/* ************************ HEADER FILES INCLUDES **************************  */
/* ************************************************************************** */

/* ************************************************************************** */
/* ********************** TYPE_DEF/STRUCT/ENUM SECTION ********************** */
/* ************************************************************************** */


/* ************************************************************************** */
/* ************************** MACRO/DEFINE SECTION ************************** */
/* ************************************************************************** */

/* ************************************************************************** */
/* ***************************** CONST SECTION ****************************** */
/* ************************************************************************** */

/* ************************************************************************** */
/* ***************************** VARIABLE SECTION *************************** */
/* ************************************************************************** */

/* ************************************************************************** */
/* **************************** FUNCTION SECTION **************************** */
/* ************************************************************************** */

#ifdef SWC_BUZ

#include "LBTY_int.h"
#include "LBIT_int.h"
#include "LCTY_int.h"

#include "DELAY.h"

#include "GPIO_int.h"
#include "GPIO_cfg.h"

#include "notes.h"

#define SIGNAL_DELAY			25u
#define SOUND_DELAY				10u

const u16 octave[] = {
	c4, 8, d4, 8, e4, 8, f4, 8, g4, 8, a4, 8, h4, 8, c5, 8,
	MUSIC_END
};

const u16 starwars[] = {
	Ais2,8, Ais2,8, P,16, F3,8, F3,8, P,16, Dis3,16, P,16, D3,16, P,16, C3,16, P,16, Ais3,8,
	Ais3,8, P,16, F3,8, P,16, Dis3,16, P,16, D3,16, P,16, C3,16, P,16, Ais3,8, Ais3,8, P,16,
	F3,8, P,16, Dis3,16, P,16, D3,16, P,16, Dis3,16, P,16, C3,8, C3,8,
	MUSIC_END
};

const u16 furelise[] = {
    e4, 8, d4x, 8, e4, 8, d4x, 8, e4, 8, b3, 8, d4, 8, c4, 8, a3,8, p, 8,
    c3, 8, e3, 8, a3, 8,  b3, 4, p, 8, e3, 8, g3x, 8, b3, 8, c4, 4, p, 8, e3, 8,
    e3, 8, d4x, 8, e4, 8, d4x, 8, e4, 8, b3, 8, d4, 8, c4, 8, a3, 8, p, 8, c3, 8,
    e3, 8, a3, 8, b3, 4, p, 8, e3, 8, c4, 8, b3, 8, a3, 4,
    MUSIC_END
};

const u16 Jude[] = {
	G2,8, E2,8, P,16, E2,16, E2,16, G2,16, A2,16, D2,8, P,16, D2,16, E2,16, F2,8,
	C3,8, C3,16, C3,16, H2,16, G2,16, A2,16, G2,16, F2,16, E2,8, P,16, G2,16,
	A2,16, A2,8, A2,16, D3,16, C3,16, H2,16, H2,16, C3,16, A2,16, G2,8, P,16,
	C2,16, D2,16, E2,16, A2,16, A2,16, G2,8,
	MUSIC_END
};
/* note , duration */

int main(void){

	GPIO_u8SetPinDirection(D, 4, PIN_OUTPUT);
	GPIO_u8SetPinValue(D, 4, PIN_Low);
	for(u8 k = 50 ; k-- ; ){
		for(u8 i = 0 ; i < 50 ; i++){
			GPIO_u8SetPinValue(D, 4, PIN_High);
			for(u8 j = 0 ; j < i ; j++)		DELAY_LOOP_US(SOUND_DELAY);
			GPIO_u8SetPinValue(D, 4, PIN_Low);
			for(u8 j = 0 ; j < i ; j++)		DELAY_LOOP_US(SOUND_DELAY);
		}
	}
	vidMyDelay_ms(1000);

	Music_Init();

	Music_Run(octave, 40 );
	vidMyDelay_ms(1000);

	Music_Run( furelise, 20 );
	vidMyDelay_ms(1000);

	Music_Run( starwars, 17 );
	vidMyDelay_ms(1000);

	Music_Run( Jude, 35 );
	vidMyDelay_ms(1000);

	while(1){

	}

	return 0;
}
#endif

/*************************** E N D (main.c) ******************************/
